{
    "name": "workstash",
    "displayName": "Workstash",
    "description": "Git Stash Management & Gist Notes for VS Code",
    "version": "0.1.0",
    "publisher": "shanemiller89",
    "license": "MIT",
    "icon": "images/icon.png",
    "galleryBanner": {
        "color": "#1e1e1e",
        "theme": "dark"
    },
    "repository": {
        "type": "git",
        "url": "https://github.com/shanemiller89/mystash"
    },
    "homepage": "https://github.com/shanemiller89/mystash#readme",
    "bugs": {
        "url": "https://github.com/shanemiller89/mystash/issues"
    },
    "engines": {
        "vscode": "^1.106.0"
    },
    "categories": [
        "SCM Providers",
        "Other"
    ],
    "keywords": [
        "git",
        "stash",
        "gist",
        "notes",
        "version control",
        "scm",
        "markdown"
    ],
    "activationEvents": [
        "workspaceContains:.git"
    ],
    "main": "./dist/extension.js",
    "contributes": {
        "configuration": {
            "title": "Workstash",
            "properties": {
                "mystash.autoRefresh": {
                    "type": "boolean",
                    "default": true,
                    "description": "Automatically refresh the stash list when git changes are detected or the window regains focus."
                },
                "mystash.confirmOnDrop": {
                    "type": "boolean",
                    "default": true,
                    "description": "Show a confirmation dialog before dropping a stash."
                },
                "mystash.confirmOnClear": {
                    "type": "boolean",
                    "default": true,
                    "description": "Show a confirmation dialog before clearing all stashes."
                },
                "mystash.showFileStatus": {
                    "type": "boolean",
                    "default": true,
                    "description": "Show M/A/D status indicators on file items in the stash tree."
                },
                "mystash.defaultIncludeUntracked": {
                    "type": "boolean",
                    "default": false,
                    "description": "Default to including untracked files when creating a stash."
                },
                "mystash.sortOrder": {
                    "type": "string",
                    "default": "newest",
                    "enum": [
                        "newest",
                        "oldest"
                    ],
                    "enumDescriptions": [
                        "Show newest stashes first (default git order)",
                        "Show oldest stashes first"
                    ],
                    "description": "Sort order for the stash list."
                },
                "mystash.showBranchInDescription": {
                    "type": "boolean",
                    "default": true,
                    "description": "Show the branch name in the stash item description."
                },
                "workstash.notes.autosaveDelay": {
                    "type": "number",
                    "default": 30,
                    "minimum": 5,
                    "maximum": 300,
                    "description": "Autosave delay in seconds for note editing. Set to 0 to disable autosave."
                },
                "workstash.notes.defaultVisibility": {
                    "type": "string",
                    "default": "secret",
                    "enum": [
                        "secret",
                        "public"
                    ],
                    "enumDescriptions": [
                        "New notes are created as secret Gists (default)",
                        "New notes are created as public Gists"
                    ],
                    "description": "Default visibility for newly created notes."
                }
            }
        },
        "viewsContainers": {
            "activitybar": [
                {
                    "id": "mystash-container",
                    "title": "Workstash",
                    "icon": "$(archive)"
                }
            ]
        },
        "views": {
            "mystash-container": [
                {
                    "id": "mystashView",
                    "name": "Git Stashes",
                    "icon": "$(archive)",
                    "contextualTitle": "Workstash"
                },
                {
                    "id": "gistNotesView",
                    "name": "Gist Notes",
                    "icon": "$(note)",
                    "contextualTitle": "Workstash",
                    "visibility": "visible"
                }
            ]
        },
        "viewsWelcome": [
            {
                "view": "mystashView",
                "contents": "No workspace folder open.\n[Open Folder](command:vscode.openFolder)",
                "when": "!workspaceFolderCount"
            },
            {
                "view": "mystashView",
                "contents": "Not a git repository.\nInitialize a repository to start using stashes.\n[Initialize Repository](command:git.init)",
                "when": "workspaceFolderCount && !mystash.isGitRepo"
            },
            {
                "view": "mystashView",
                "contents": "No stashes yet.\nStash your changes to save them for later.\n[Create Stash](command:mystash.stash)",
                "when": "mystash.isGitRepo && !mystash.hasStashes"
            },
            {
                "view": "gistNotesView",
                "contents": "Sign in to GitHub to sync your notes as Gists.\n[Sign In to GitHub](command:workstash.notes.signIn)",
                "when": "!workstash.isAuthenticated"
            },
            {
                "view": "gistNotesView",
                "contents": "No notes yet.\nCreate a note to get started.\n[Create Note](command:workstash.notes.create)",
                "when": "workstash.isAuthenticated && !workstash.hasNotes"
            }
        ],
        "commands": [
            {
                "command": "mystash.refresh",
                "title": "Refresh Stash List",
                "category": "Workstash",
                "icon": "$(refresh)"
            },
            {
                "command": "mystash.stash",
                "title": "Create New Stash",
                "category": "Workstash",
                "icon": "$(add)"
            },
            {
                "command": "mystash.apply",
                "title": "Apply Stash",
                "category": "Workstash",
                "icon": "$(check)"
            },
            {
                "command": "mystash.pop",
                "title": "Pop Stash",
                "category": "Workstash",
                "icon": "$(arrow-up)"
            },
            {
                "command": "mystash.drop",
                "title": "Drop Stash",
                "category": "Workstash",
                "icon": "$(trash)"
            },
            {
                "command": "mystash.show",
                "title": "Show Stash Contents",
                "category": "Workstash",
                "icon": "$(eye)"
            },
            {
                "command": "mystash.clear",
                "title": "Clear All Stashes",
                "category": "Workstash",
                "icon": "$(clear-all)"
            },
            {
                "command": "mystash.showFile",
                "title": "Show File Diff",
                "category": "Workstash"
            },
            {
                "command": "mystash.openPanel",
                "title": "Open Stash Panel",
                "category": "Workstash",
                "icon": "$(open-preview)"
            },
            {
                "command": "mystash.showStats",
                "title": "Show Stash Stats",
                "category": "Workstash",
                "icon": "$(graph)"
            },
            {
                "command": "mystash.search",
                "title": "Search Stashes",
                "category": "Workstash",
                "icon": "$(search)"
            },
            {
                "command": "mystash.clearSearch",
                "title": "Clear Stash Search",
                "category": "Workstash",
                "icon": "$(close)"
            },
            {
                "command": "mystash.applySelected",
                "title": "Apply Selected Stashes",
                "category": "Workstash",
                "icon": "$(check-all)"
            },
            {
                "command": "mystash.dropSelected",
                "title": "Drop Selected Stashes",
                "category": "Workstash",
                "icon": "$(trash)"
            },
            {
                "command": "workstash.notes.signIn",
                "title": "Sign In to GitHub",
                "category": "Workstash",
                "icon": "$(sign-in)"
            },
            {
                "command": "workstash.notes.signOut",
                "title": "Sign Out of GitHub",
                "category": "Workstash",
                "icon": "$(sign-out)"
            },
            {
                "command": "workstash.notes.create",
                "title": "Create Note",
                "category": "Workstash",
                "icon": "$(add)"
            },
            {
                "command": "workstash.notes.open",
                "title": "Open Note",
                "category": "Workstash",
                "icon": "$(go-to-file)"
            },
            {
                "command": "workstash.notes.delete",
                "title": "Delete Note",
                "category": "Workstash",
                "icon": "$(trash)"
            },
            {
                "command": "workstash.notes.copyLink",
                "title": "Copy Gist Link",
                "category": "Workstash",
                "icon": "$(link)"
            },
            {
                "command": "workstash.notes.toggleVisibility",
                "title": "Toggle Note Visibility",
                "category": "Workstash",
                "icon": "$(eye)"
            },
            {
                "command": "workstash.notes.refresh",
                "title": "Refresh Notes",
                "category": "Workstash",
                "icon": "$(refresh)"
            },
            {
                "command": "workstash.notes.search",
                "title": "Search Notes",
                "category": "Workstash",
                "icon": "$(search)"
            },
            {
                "command": "workstash.notes.clearSearch",
                "title": "Clear Notes Search",
                "category": "Workstash",
                "icon": "$(close)"
            }
        ],
        "menus": {
            "view/title": [
                {
                    "command": "mystash.refresh",
                    "when": "view == mystashView",
                    "group": "navigation"
                },
                {
                    "command": "mystash.stash",
                    "when": "view == mystashView",
                    "group": "navigation"
                },
                {
                    "command": "mystash.openPanel",
                    "when": "view == mystashView",
                    "group": "navigation"
                },
                {
                    "command": "mystash.search",
                    "when": "view == mystashView && !mystash.isSearching",
                    "group": "navigation"
                },
                {
                    "command": "mystash.clearSearch",
                    "when": "view == mystashView && mystash.isSearching",
                    "group": "navigation"
                },
                {
                    "command": "mystash.clear",
                    "when": "view == mystashView"
                },
                {
                    "command": "workstash.notes.refresh",
                    "when": "view == gistNotesView",
                    "group": "navigation"
                },
                {
                    "command": "workstash.notes.create",
                    "when": "view == gistNotesView && workstash.isAuthenticated",
                    "group": "navigation"
                },
                {
                    "command": "workstash.notes.search",
                    "when": "view == gistNotesView && !workstash.notes.isSearching",
                    "group": "navigation"
                },
                {
                    "command": "workstash.notes.clearSearch",
                    "when": "view == gistNotesView && workstash.notes.isSearching",
                    "group": "navigation"
                },
                {
                    "command": "workstash.notes.signIn",
                    "when": "view == gistNotesView && !workstash.isAuthenticated",
                    "group": "navigation"
                },
                {
                    "command": "workstash.notes.signOut",
                    "when": "view == gistNotesView && workstash.isAuthenticated"
                }
            ],
            "view/item/context": [
                {
                    "command": "mystash.apply",
                    "when": "view == mystashView && viewItem == stashItem",
                    "group": "inline@1"
                },
                {
                    "command": "mystash.pop",
                    "when": "view == mystashView && viewItem == stashItem",
                    "group": "inline@2"
                },
                {
                    "command": "mystash.drop",
                    "when": "view == mystashView && viewItem == stashItem",
                    "group": "inline@3"
                },
                {
                    "command": "mystash.show",
                    "when": "view == mystashView && viewItem == stashItem",
                    "group": "inline@4"
                },
                {
                    "command": "mystash.apply",
                    "when": "view == mystashView && viewItem == stashItem",
                    "group": "1_stash@1"
                },
                {
                    "command": "mystash.pop",
                    "when": "view == mystashView && viewItem == stashItem",
                    "group": "1_stash@2"
                },
                {
                    "command": "mystash.show",
                    "when": "view == mystashView && viewItem == stashItem",
                    "group": "1_stash@3"
                },
                {
                    "command": "mystash.showStats",
                    "when": "view == mystashView && viewItem == stashItem",
                    "group": "1_stash@4"
                },
                {
                    "command": "mystash.drop",
                    "when": "view == mystashView && viewItem == stashItem",
                    "group": "2_destructive"
                },
                {
                    "command": "mystash.applySelected",
                    "when": "view == mystashView && viewItem == stashItem && listMultiSelection",
                    "group": "3_batch@1"
                },
                {
                    "command": "mystash.dropSelected",
                    "when": "view == mystashView && viewItem == stashItem && listMultiSelection",
                    "group": "3_batch@2"
                },
                {
                    "command": "workstash.notes.open",
                    "when": "view == gistNotesView && viewItem =~ /^gistNote/",
                    "group": "inline@1"
                },
                {
                    "command": "workstash.notes.copyLink",
                    "when": "view == gistNotesView && viewItem =~ /^gistNote/",
                    "group": "inline@2"
                },
                {
                    "command": "workstash.notes.delete",
                    "when": "view == gistNotesView && viewItem =~ /^gistNote/",
                    "group": "inline@3"
                },
                {
                    "command": "workstash.notes.open",
                    "when": "view == gistNotesView && viewItem =~ /^gistNote/",
                    "group": "1_note@1"
                },
                {
                    "command": "workstash.notes.copyLink",
                    "when": "view == gistNotesView && viewItem =~ /^gistNote/",
                    "group": "1_note@2"
                },
                {
                    "command": "workstash.notes.toggleVisibility",
                    "when": "view == gistNotesView && viewItem =~ /^gistNote/",
                    "group": "1_note@3"
                },
                {
                    "command": "workstash.notes.delete",
                    "when": "view == gistNotesView && viewItem =~ /^gistNote/",
                    "group": "2_destructive"
                }
            ],
            "commandPalette": [
                {
                    "command": "mystash.refresh",
                    "when": "workspaceFolderCount > 0"
                },
                {
                    "command": "mystash.stash",
                    "when": "workspaceFolderCount > 0"
                },
                {
                    "command": "mystash.apply",
                    "when": "workspaceFolderCount > 0"
                },
                {
                    "command": "mystash.pop",
                    "when": "workspaceFolderCount > 0"
                },
                {
                    "command": "mystash.drop",
                    "when": "workspaceFolderCount > 0"
                },
                {
                    "command": "mystash.show",
                    "when": "workspaceFolderCount > 0"
                },
                {
                    "command": "mystash.clear",
                    "when": "workspaceFolderCount > 0"
                },
                {
                    "command": "mystash.showFile",
                    "when": "false"
                },
                {
                    "command": "mystash.openPanel",
                    "when": "workspaceFolderCount > 0"
                },
                {
                    "command": "mystash.showStats",
                    "when": "workspaceFolderCount > 0"
                },
                {
                    "command": "mystash.search",
                    "when": "workspaceFolderCount > 0"
                },
                {
                    "command": "mystash.clearSearch",
                    "when": "workspaceFolderCount > 0 && mystash.isSearching"
                },
                {
                    "command": "mystash.applySelected",
                    "when": "false"
                },
                {
                    "command": "mystash.dropSelected",
                    "when": "false"
                },
                {
                    "command": "workstash.notes.signIn",
                    "when": "workspaceFolderCount > 0 && !workstash.isAuthenticated"
                },
                {
                    "command": "workstash.notes.signOut",
                    "when": "workspaceFolderCount > 0 && workstash.isAuthenticated"
                },
                {
                    "command": "workstash.notes.create",
                    "when": "workspaceFolderCount > 0 && workstash.isAuthenticated"
                },
                {
                    "command": "workstash.notes.open",
                    "when": "false"
                },
                {
                    "command": "workstash.notes.delete",
                    "when": "false"
                },
                {
                    "command": "workstash.notes.copyLink",
                    "when": "false"
                },
                {
                    "command": "workstash.notes.toggleVisibility",
                    "when": "false"
                },
                {
                    "command": "workstash.notes.refresh",
                    "when": "workspaceFolderCount > 0 && workstash.isAuthenticated"
                },
                {
                    "command": "workstash.notes.search",
                    "when": "workspaceFolderCount > 0 && workstash.isAuthenticated"
                },
                {
                    "command": "workstash.notes.clearSearch",
                    "when": "workspaceFolderCount > 0 && workstash.notes.isSearching"
                }
            ]
        },
        "keybindings": [
            {
                "command": "mystash.stash",
                "key": "ctrl+shift+s",
                "mac": "cmd+shift+s",
                "when": "workspaceFolderCount > 0"
            }
        ]
    },
    "scripts": {
        "vscode:prepublish": "npm run package",
        "compile": "npm run check-types && npm run lint && npm run build:webview && node esbuild.js",
        "watch": "npm-run-all -p watch:*",
        "watch:esbuild": "node esbuild.js --watch",
        "watch:tsc": "tsc --noEmit --watch --project tsconfig.json",
        "watch:webview-tsc": "tsc --noEmit --watch --project webview-ui/tsconfig.json",
        "watch:webview": "vite build --watch --config webview-ui/vite.config.ts",
        "build:webview": "vite build --config webview-ui/vite.config.ts",
        "package": "npm run check-types && npm run lint && vite build --mode production --config webview-ui/vite.config.ts && node esbuild.js --production",
        "compile-tests": "tsc -p . --outDir out",
        "watch-tests": "tsc -p . -w --outDir out",
        "pretest": "npm run compile-tests && npm run compile && npm run lint",
        "check-types": "tsc --noEmit && tsc --noEmit --project webview-ui/tsconfig.json",
        "lint": "eslint src",
        "lint:fix": "eslint src --fix",
        "format": "prettier --write \"src/**/*.ts\" \"webview-ui/src/**/*.{ts,tsx,css}\" \"*.{json,md}\"",
        "format:check": "prettier --check \"src/**/*.ts\" \"webview-ui/src/**/*.{ts,tsx,css}\" \"*.{json,md}\"",
        "test": "vscode-test"
    },
    "devDependencies": {
        "@tailwindcss/vite": "^4.1.18",
        "@types/markdown-it": "^14.1.2",
        "@types/mocha": "^10.0.10",
        "@types/node": "22.x",
        "@types/react": "^19.2.14",
        "@types/react-dom": "^19.2.3",
        "@types/vscode": "^1.106.0",
        "@vitejs/plugin-react": "^5.1.4",
        "@vscode/test-cli": "^0.0.12",
        "@vscode/test-electron": "^2.5.2",
        "date-fns": "^4.1.0",
        "esbuild": "^0.27.2",
        "eslint": "^9.39.2",
        "highlight.js": "^11.11.1",
        "lucide-react": "^0.563.0",
        "markdown-it": "^14.1.1",
        "npm-run-all": "^4.1.5",
        "prettier": "^3.8.1",
        "react": "^19.2.4",
        "react-dom": "^19.2.4",
        "tailwindcss": "^4.1.18",
        "typescript": "^5.9.3",
        "typescript-eslint": "^8.54.0",
        "vite": "^7.3.1",
        "zustand": "^5.0.11"
    }
}
